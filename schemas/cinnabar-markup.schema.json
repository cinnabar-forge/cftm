{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Cinnabar Forge Text Markup",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "type": {
        "title": "Type of this line/row",
        "type": "string",
        "enum": ["header", "paragraph", "code", "item", "row", "gallery"]
      },
      "data": {
        "title": "List of text data for this line/row",
        "type": "array",
        "items": {
          "anyOf": [
            {
              "title": "Text with options",
              "type": "object",
              "properties": {
                "text": { "type": "string" },
                "highlight": {
                  "type": "string",
                  "enum": ["bold", "italic", "underline", "code"]
                },
                "glueLastText": { "type": "boolean" },
                "link": { "type": "string" },
                "glueLastLink": { "type": "boolean" },
                "mergeCellBelow": { "type": "boolean" }
              },
              "required": ["text"],
              "additionalProperties": false
            },
            { "title": "Default text", "type": "string" }
          ]
        }
      },
      "level": {
        "title": "Number to specify header and list deepening",
        "type": "integer",
        "minimum": 1,
        "default": 1
      },
      "codeLanguage": {
        "title": "Language name to suggest specific code highlight",
        "type": "string"
      }
    },
    "required": ["type", "data"],
    "additionalProperties": false
  }
}
